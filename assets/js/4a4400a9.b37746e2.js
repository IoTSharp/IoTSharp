"use strict";(self.webpackChunkiotsharp=self.webpackChunkiotsharp||[]).push([[2348],{3913:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"tutorial-extras/raw_data_gateway","title":"\u539f\u751f\u6570\u636e\u63a8\u9001\u7f51\u5173","description":"http \u534f\u8bae","source":"@site/docs/tutorial-extras/raw_data_gateway.md","sourceDirName":"tutorial-extras","slug":"/tutorial-extras/raw_data_gateway","permalink":"/docs/tutorial-extras/raw_data_gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/IoTSharp/IoTSharp/edit/master/docs/docs/tutorial-extras/raw_data_gateway.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"MQTT\u4f7f\u7528X509\u52a0\u5bc6\u901a\u8baf\u548c\u8bbe\u5907\u8ba4\u8bc1","permalink":"/docs/tutorial-extras/mqtt_tls"}}');var r=n(4848),s=n(8453);const o={sidebar_position:3},i="\u539f\u751f\u6570\u636e\u63a8\u9001\u7f51\u5173",d={},l=[{value:"http \u534f\u8bae",id:"http-\u534f\u8bae",level:2}];function c(t){const e={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u539f\u751f\u6570\u636e\u63a8\u9001\u7f51\u5173",children:"\u539f\u751f\u6570\u636e\u63a8\u9001\u7f51\u5173"})}),"\n",(0,r.jsx)(e.h2,{id:"http-\u534f\u8bae",children:"http \u534f\u8bae"}),"\n",(0,r.jsx)(e.p,{children:"\u5728Http\u534f\u8bae\u4e2d\u4f7f\u7528 \u63a5\u53e3 PushDataToMap  \u6765\u5b9e\u73b0\uff0c \u5e76\u901a\u8fc7\u8bbe\u7f6e\u7f51\u5173\u7684\u5c5e\u6027\u503c\u8ba9\u63a5\u53e3\u81ea\u52a8\u89e3\u6790\u4e0b\u9762\u7684\u6570\u636e\uff0c \u5982\u679c\u662f\u6587\u672c\u5305\u542b\u5b57\u7b26\u4e32json\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u5904\u7406\u3002\nhttp \u8bf7\u6c42"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'curl --location --request POST  \'http://cloud.iotsharp.net/api/Devices/{\u7f51\u5173Token}/PushDataToMap/json\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n  "dev_id": "2021082640",\n  "volt": 0,\n  "sample_time": "2022-03-17 15:21:47",\n  "datas": [\n    {\n      "point_name": "2",\n      "mon_type": 4,\n      "dev_type": 10,\n      "depth": 0,\n      "data1": 0\n    }\n  ]\n}\'\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6837\u4f8b\u6570\u636e \u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{"dataType":"1","dataJson":"{\\"serialNumber\\":\\"12003378\\",\\"uploadDate\\":\\"2022-03-20 22:22:19\\",\\"pm25\\":21,\\"pm10\\":26,\\"windSpeed\\":25,\\"windDirection\\":14,\\"noise\\":46,\\"temperature\\":60,\\"humidity\\":900,\\"sprayStatus\\":0,\\"warnReason\\":64}"}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5c5e\u6027\u914d\u7f6e\u53c2\u8003"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"_map_to_attribute_\u6620\u5c04\u5230\u5b50\u8bbe\u5907\u7684\u5c5e\u6027\u540d\u79f0  \u5c5e\u6027\u503c\u4e3a\u5728\u5f53\u524djson\u4e2d\u7684\u8def\u5f84\u3002\n\u4f8b\u5982:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"_map_to_attribute_currentAllowWeight\tcurrentAllowWeight\t \n_map_to_attribute_driverCardNo\tdriverCardNo\t \n_map_to_attribute_version\tversion\t\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"_map_to_devname  \u6307\u5b9a\u8bbe\u5907\u7684\u540d\u79f0\u4f7f\u7528\u54ea\u4e2a\u5b57\u6bb5"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.em,{children:"map_to_devname_format \u6307\u5b9a\u8bbe\u5907\u540d\u79f0\u7684\u683c\u5f0f\uff0c\u53ef\u7528\u7684\u53d8\u91cf\u6709 $devname  \u548c $subdevname\uff0c \u683c\u5f0f\u5185\u5bb9\u4e3a\thf_crane"}),"$devname"]}),"\n",(0,r.jsx)(e.li,{children:"_map_to_jsontext_in_json\t\u6307\u5b9a\u5982\u679c\u662f\u6587\u672c\u7c7b\u578b\u7684\u5c06\u81ea\u52a8\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3ajson\uff0c\u793a\u4f8b\u4e2d\u4e3a\uff1a dataJson"}),"\n",(0,r.jsx)(e.li,{children:"_map_to_telemetry_\u6620\u5c04\u5230\u5b50\u8bbe\u5907\u4e2d\u7684\u9065\u6d4b\u540d\u79f0"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"_map_to_telemetry_windSpeed\twindSpeed\t \n"})}),"\n",(0,r.jsxs)(e.ol,{start:"6",children:["\n",(0,r.jsx)(e.li,{children:"_map_to_subdevname \u4e8c\u7ea7\u5173\u8054"}),"\n",(0,r.jsx)(e.li,{children:"_map_to_data_in_array \u5982\u679c\u5b50\u8bbe\u5907\u6570\u636e\u5728\u67d0\u4e2a\u6570\u7ec4\u5360\u7528\uff0c \u5219\u8fd9\u91cc\u6307\u5b9a\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u6ce8\u610f\uff0c \u5f53_map_to_data_in_array \u6307\u5b9a\u4e86\u5b57\u6bb5\u65f6 \uff0c \u4f7f\u7528  '@' \u7684\u5b57\u6bb5\u6307\u5b9a\u7684\u662f \u6839json\u8def\u5f84\uff0c \u4e0d\u4f7f\u7528 \u5219\u8868\u793a\u5f53\u524d\u6570\u7ec4\u5143\u7d20\u4e2d\u7684\u8def\u5f84\u3002\n_map_to_data_in_array\u548c_map_to_jsontext_in_json\u53ea\u80fd\u4f7f\u7528\u5176\u4e2d\u4e00\u79cd\uff0c \u4e0d\u80fd\u91cd\u5408\u3002"})]})}function p(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(c,{...t})}):c(t)}},8453:(t,e,n)=>{n.d(e,{R:()=>o,x:()=>i});var a=n(6540);const r={},s=a.createContext(r);function o(t){const e=a.useContext(s);return a.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function i(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:o(t.components),a.createElement(s.Provider,{value:e},t.children)}}}]);